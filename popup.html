<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    body { font-family: Arial; width: 520px; padding: 10px; height: 100vh; font-size: 16px; font-weight: bold;}
    button { width: 100%; margin: 5px 0; padding: 8px; font-size: 16px; font-weight: 500; }
    #output {
      border: 1px solid #ccc;
      height: calc(100vh - 360px);
      overflow: auto;
      padding: 8px;
      white-space: pre-wrap;
      font-size: 16px;
      font-weight: 500;
    }
    h3 { font-size: 17px; font-weight: 600; }
    .row { display: flex; gap: 6px; }
    .row button { width: 50%; }
    input { box-sizing: border-box; }
  </style>
</head>

<body>
  <h3>Access Assist</h3>

  <input type="text" id="req" placeholder="Type request..." style="width: 100%; padding: 6px; margin-bottom: 6px;"/>

  <!--  NEW: choose what "Run request" does -->
  <select id="reqMode">
    <option value="ask" selected>Ask GPT (chat)</option>
    <option value="command">Command (control page)</option>
  </select>

  <div class="row">
    <button id="run">
      <img src="run.png"
       style="height:50px;width:50px;vertical-align:middle;margin-right:8px;">
      Run request
    </button>
    <button id="voice">
      <img src="mic.png"
       style="height:50px;width:50px;vertical-align:middle;margin-right:8px;">
  Voice
    </button>
  </div>

  <div id="voiceModal" style="
  display:none;
  border:1px solid #ccc;
  padding:10px;
  margin:10px 0;
  border-radius:8px;
  background:#f8f8f8;
">
  <div style="font-weight:600; margin-bottom:6px;">
    Enable voice assistance?
  </div>
  <div style="font-size:12px; margin-bottom:10px;">
    If enabled, you can use your microphone to control the extension. Chrome will ask for mic permission.
  </div>

  <label style="display:flex; gap:8px; align-items:center; font-size:12px; margin-bottom:10px;">
    <input type="checkbox" id="rememberVoiceChoice" />
    Remember my choice
  </label>

  <div style="display:flex; gap:8px;">
    <button id="enableVoiceBtn" style="flex:1;">Enable voice</button>
    <button id="notNowVoiceBtn" style="flex:1;">Not now</button>
  </div>
  </div>

  <button id="focus">Toggle Focus Mode</button>

  <div class="row">
    <button id="scrollUp">Scroll Up</button>
    <button id="scrollDown">Scroll Down</button>
  </div>

  <button id="extract">Extract Text</button>
  <button id="summarise">
    <img src="sum.png"
       style="height:50px;width:50px;vertical-align:middle;margin-right:8px;">
    Summarise
  </button>
  <button id="speak">
    <img src="read.png"
       style="height:50px;width:50px;vertical-align:middle;margin-right:8px;">
    Read Aloud
  </button>

  <div id="output">Output appears here...</div>

  <script src="popup.js"></script>
</body>
</html>
